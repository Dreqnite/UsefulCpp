# Внешний полиморфизим
Данный паттерн проектирования применяется, когда у нас стоит задача хранить объекты, которые не связаны друг с другом (то есть гетерогенные) в одном контейнере, как например `std::map` или `std::vector`, а потом проитерироваться через коллекцию и вызвать у каждого объекта какой-то метод, как, например, `getCode()` в примере из файла `ExternPolymorph.h`.

По умолчанию в языке C++ невозможно проитерироваться через объекты, которые не имеют между собой общей базы, однако паттерн позволяет добиться желаемого результата. Для реализации подобного поведения требуется следующие компоненты:  
* Интерфейс `IObject`, который содержит перечень чисто виртуальных методов, которые мы желаем вызвать при итерации через коллекцию.   
* Шаблон класса `ConcreteObject`, который параметризован типом `T` объекта, который он будет оборачивать. Задачей данного класса является хранение объекта конкретного типа, передаваемого в коллекцию.  
* Класс `CollectionHolder`, в котором будет храниться коллекция и который предоставляет пользователю спектр функций по работе с данной коллекцией. Ключевым моментом является шаблонная функция `addElement`, которая параметрирована типом `T` передаваемого в коллекцию объекта.  

В примере имеются 3 разных класса: `Foo`, `Bar` и `Baz`, которые передаются в конструктор класса `ConcreteObject`. При итерации через гетерогенный контейнер вызвается метод `getCode()` из класса-обёртки `ConcreteObject`, который знает тип хранимого им объекта, поэтому позволяет вызвать метод `getCode()` из объекта типа `T`.